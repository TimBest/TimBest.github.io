---
layout: base
title: Composer's Couch | Tim Best
projects: active
---

<div class="container">
  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
<div class="my-gallery" itemscope itemtype="/images/composers_couch/inbox.png">
  <figure itemprop="associatedMedia" itemscope itemtype="/images/composers_couch/inbox.png">
    <a href="/images/composers_couch/inbox.png" itemprop="contentUrl" data-size="600x400">
      <img src="/images/composers_couch/inbox.png" itemprop="thumbnail" alt="Image description" />
    </a>
    <figcaption itemprop="caption description">Image caption</figcaption>
  </figure>

  <figure itemprop="associatedMedia" itemscope itemtype="/images/composers_couch/inbox_sent.png">
    <a href="/images/composers_couch/inbox_sent.png" itemprop="contentUrl" data-size="600x400">
      <img src="/images/composers_couch/inbox_sent.png" itemprop="thumbnail" alt="Image description" />
    </a>
    <figcaption itemprop="caption description">Image caption</figcaption>
  </figure>
</div>
  <h2>
    <a href="/projects/">&#8612; COMPOSERS COUCH</a>
  </h2>
  <p><b>January 2014 to July 2015</b></p>
  <a href="https://bitbucket.org/composersCouch/composerscouch" target="_blank"> BITBUCKET REPO</a>
  <p>
    A website dedicated to improving how concerts are booked and promoted.
    Composer's Couch provided the information and tools necessary to make educated decisions when requesting and booking shows.
  </p>
  <hr/>

  <h3>Authentication</h3>
  <p>
    'Sign up' and 'Login' terminology were chosen for their distinctness.
    They differ in the number of words and the starting letter allowing for quick scanning of the website.
  </p>
  {% include screenshot.html url="/images/composers_couch/homescreen.png" caption="'Sign up' and 'Login' forms are embedded into the home screen for quick access." %}
  {% include screenshot.html url="/images/composers_couch/auth_login.png" caption="Users are authenticated through Facebook, Twitter or an email address and password." %}
  {% include screenshot.html url="/images/composers_couch/auth_signup.png" caption="The zipcode field auto fills based on the users IP address. Future plans were to only ask for this field when a zipcode had not been found." %}
  {% include screenshot.html url="/images/composers_couch/auth_signup_social.png" caption="After signing up with social authentication users are prompted for needed information." %}
  <hr/>

  <h3>Inbox</h3>
  <p>
    The users messages, private requests, public requests and show notifications are managed here.
    Messages could be sent internally through the site or to an email address.
    The idea was to reduce the time that it took to evaluate requests and schedule a date for them to play by providing: an integrated calendar, universally formatted press kits, and fan turn out metrics.
    Future plans included combining the rich content of filtered inbox's into one view and having one message form where public and private request are a single form instead of three forms.
  </p>
  {% include screenshot.html url="/images/composers_couch/inbox.png" caption="All messages can be viewed and accessed here." %}
  {% include screenshot.html url="/images/composers_couch/inbox_sent.png" caption="Any message sent or replied to can be found here." %}
  {% include screenshot.html url="/images/composers_couch/inbox_trash.png" caption="When deleted, threads are moved to the trash." %}
  {% include screenshot.html url="/images/composers_couch/inbox_public_requests_sent.png" caption="Filtering the inbox by message type allows for more detailed message views." %}
  {% include screenshot.html url="/images/composers_couch/inbox_public_request_application.png" caption="Each public request has an attached thread for responding and working out details. Future plans were to add a 'Add to Calendar' form." %}
  {% include screenshot.html url="/images/composers_couch/inbox_private_request.png" caption="Private request allowed for planning shows and quick porting to your calendar." %}
  {% include screenshot.html url="/images/composers_couch/inbox_event_notification.png" caption="Messages are sent to all site users when they are entered as a participant in a show." %}
  {% include screenshot.html url="/images/composers_couch/inbox_message.png" caption="Regular thread contain links to all users in the message." %}
  <hr/>

  <h3>Calendar</h3>
  <p>
    Used to manage confirmed shows and private requests.
    Shows are exportable.
  </p>
  {% include screenshot.html url="/images/composers_couch/calendar_month.png" caption="Month view." %}
  {% include screenshot.html url="/images/composers_couch/calendar_month_expanded.png" caption="Expanded days allow for more detail on smaller screen, quick access to artist/venue search, and a create show button with the corresponding date already filled in." %}
  {% include screenshot.html url="/images/composers_couch/calendar_year.png" caption="Can view the entire year and quickly jump to a month, week, day or single event." %}
  {% include screenshot.html url="/images/composers_couch/calendar_day.png" caption="Single day view." %}
  {% include screenshot.html url="/images/composers_couch/calendar_add_show.png" caption="Form used to add or edit shows." %}
  <hr/>

  <h3>Feeds</h3>
  <p>
    By default the sites feeds are sorted by location.
    This allows for better promotion and discovery for artist and venues for they are not competing against global pop stars but rather other local acts.
  </p>
  {% include screenshot.html url="/images/composers_couch/feeds_requests.png" caption="Public Request can be browsed by location, who they are looking for, just posted and about to expire." %}
  {% include screenshot.html url="/images/composers_couch/feeds_requests_filter.png" caption="All feeds can be filtered by a single genre group or by genres saved to your profile." %}
  {% include screenshot.html url="/images/composers_couch/feeds_shows.png" caption="A list of shows that have been approved and made visible by all site users participating in the event." %}
  {% include screenshot.html url="/images/composers_couch/feeds_artists.png" caption="Artists can be discovered by location and availability. Availability filtering allows traveling artist to fill in wholes in their tour. " %}
  {% include screenshot.html url="/images/composers_couch/feeds_venues.png" caption="Quickly search for a venue near you or find one that has an opening." %}
  {% include screenshot.html url="/images/composers_couch/feeds_updates.png" caption="A way to keep up with news from local or your favorite users. Can be used to promote shows or show off content. " %}
  <hr/>

  <h3>Artist Profile</h3>
  <p>
    The Artist Profile main functionality was to serve as a universally formatted press kit.
    Since most of the information in a press kit is also viable as a metric for discovering artists and it doubles as a promotional page.
  </p>
  {% include screenshot.html url="/images/composers_couch/artist_about.png" caption="" %}
  {% include screenshot.html url="/images/composers_couch/artist_news.png" caption="Recent stories in the news and current content the artist wants to promote." %}
  {% include screenshot.html url="/images/composers_couch/artist_shows.png" caption="All shows that the artist has made visible." %}
  {% include screenshot.html url="/images/composers_couch/artist_music.png" caption="Music is currently displayed in albums/playlists. Future plan were to allow single uploads and have an artist selected top 5 songs." %}
  {% include screenshot.html url="/images/composers_couch/artist_photos.png" caption="A collection of all photos uploaded by the user." %}
  {% include screenshot.html url="/images/composers_couch/artist_videos.png" caption="Videos are stored as links to YouTube or Vimeo. They can be added individually or to tracks on an album" %}
  <hr/>

  <h3>Venue Profile</h3>
  <p>
    This offers Artist and Fans to discover and learn about venues.
    Future plans included adding near by parking, lodging and restaurants.
  </p>
  {% include screenshot.html url="/images/composers_couch/venue_about.png" caption="" %}
  {% include screenshot.html url="/images/composers_couch/venue_news.png" caption="Recent stories in the news and current content the venue wants to promote." %}
  {% include screenshot.html url="/images/composers_couch/venue_shows.png" caption="All shows that the venue has made visible." %}
  {% include screenshot.html url="/images/composers_couch/venue_photos.png" caption="A collection of all photos uploaded by the venue" %}
  <hr/>

  <h3>Static Pages</h3>
  {% include screenshot.html url="/images/composers_couch/static_about.png" caption="" %}
  {% include screenshot.html url="/images/composers_couch/static_learn_more.png" caption="" %}
  {% include screenshot.html url="/images/composers_couch/static_changelog.png" caption="" %}
  {% include screenshot.html url="/images/composers_couch/static_pipeline.png" caption="" %}
  <hr/>

  <h3>Extracted Django modules</h3>
  <p>
    List of Django models that  might be use full as stand alone Django modules
  </p>
</div>
<script>
var initPhotoSwipeFromDOM = function(gallerySelector) {

    // parse slide data (url, title, size ...) from DOM elements
    // (children of gallerySelector)
    var parseThumbnailElements = function(el) {
        var thumbElements = el.childNodes,
            numNodes = thumbElements.length,
            items = [],
            figureEl,
            linkEl,
            size,
            item;

        for(var i = 0; i < numNodes; i++) {

            figureEl = thumbElements[i]; // <figure> element

            // include only element nodes
            if(figureEl.nodeType !== 1) {
                continue;
            }

            linkEl = figureEl.children[0]; // <a> element

            size = linkEl.getAttribute('data-size').split('x');

            // create slide object
            item = {
                src: linkEl.getAttribute('href'),
                w: parseInt(size[0], 10),
                h: parseInt(size[1], 10)
            };



            if(figureEl.children.length > 1) {
                // <figcaption> content
                item.title = figureEl.children[1].innerHTML;
            }

            if(linkEl.children.length > 0) {
                // <img> thumbnail element, retrieving thumbnail url
                item.msrc = linkEl.children[0].getAttribute('src');
            }

            item.el = figureEl; // save link to element for getThumbBoundsFn
            items.push(item);
        }

        return items;
    };

    // find nearest parent element
    var closest = function closest(el, fn) {
        return el && ( fn(el) ? el : closest(el.parentNode, fn) );
    };

    // triggers when user clicks on thumbnail
    var onThumbnailsClick = function(e) {
        e = e || window.event;
        e.preventDefault ? e.preventDefault() : e.returnValue = false;

        var eTarget = e.target || e.srcElement;

        // find root element of slide
        var clickedListItem = closest(eTarget, function(el) {
            return (el.tagName && el.tagName.toUpperCase() === 'FIGURE');
        });

        if(!clickedListItem) {
            return;
        }

        // find index of clicked item by looping through all child nodes
        // alternatively, you may define index via data- attribute
        var clickedGallery = clickedListItem.parentNode,
            childNodes = clickedListItem.parentNode.childNodes,
            numChildNodes = childNodes.length,
            nodeIndex = 0,
            index;

        for (var i = 0; i < numChildNodes; i++) {
            if(childNodes[i].nodeType !== 1) {
                continue;
            }

            if(childNodes[i] === clickedListItem) {
                index = nodeIndex;
                break;
            }
            nodeIndex++;
        }



        if(index >= 0) {
            // open PhotoSwipe if valid index found
            openPhotoSwipe( index, clickedGallery );
        }
        return false;
    };

    // parse picture index and gallery index from URL (#&pid=1&gid=2)
    var photoswipeParseHash = function() {
        var hash = window.location.hash.substring(1),
        params = {};

        if(hash.length < 5) {
            return params;
        }

        var vars = hash.split('&');
        for (var i = 0; i < vars.length; i++) {
            if(!vars[i]) {
                continue;
            }
            var pair = vars[i].split('=');
            if(pair.length < 2) {
                continue;
            }
            params[pair[0]] = pair[1];
        }

        if(params.gid) {
            params.gid = parseInt(params.gid, 10);
        }

        return params;
    };

    var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
        var pswpElement = document.querySelectorAll('.pswp')[0],
            gallery,
            options,
            items;

        items = parseThumbnailElements(galleryElement);

        // define options (if needed)
        options = {

            // define gallery index (for URL)
            galleryUID: galleryElement.getAttribute('data-pswp-uid'),

            getThumbBoundsFn: function(index) {
                // See Options -> getThumbBoundsFn section of documentation for more info
                var thumbnail = items[index].el.getElementsByTagName('img')[0], // find thumbnail
                    pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                    rect = thumbnail.getBoundingClientRect();

                return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
            }

        };

        // PhotoSwipe opened from URL
        if(fromURL) {
            if(options.galleryPIDs) {
                // parse real index when custom PIDs are used
                // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
                for(var j = 0; j < items.length; j++) {
                    if(items[j].pid == index) {
                        options.index = j;
                        break;
                    }
                }
            } else {
                // in URL indexes start from 1
                options.index = parseInt(index, 10) - 1;
            }
        } else {
            options.index = parseInt(index, 10);
        }

        // exit if index not found
        if( isNaN(options.index) ) {
            return;
        }

        if(disableAnimation) {
            options.showAnimationDuration = 0;
        }

        // Pass data to PhotoSwipe and initialize it
        gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);
        gallery.init();
    };

    // loop through all gallery elements and bind events
    var galleryElements = document.querySelectorAll( gallerySelector );

    for(var i = 0, l = galleryElements.length; i < l; i++) {
        galleryElements[i].setAttribute('data-pswp-uid', i+1);
        galleryElements[i].onclick = onThumbnailsClick;
    }

    // Parse URL and open gallery if it contains #&pid=3&gid=1
    var hashData = photoswipeParseHash();
    if(hashData.pid && hashData.gid) {
        openPhotoSwipe( hashData.pid ,  galleryElements[ hashData.gid - 1 ], true, true );
    }
};

// execute above function
initPhotoSwipeFromDOM('.my-gallery');
</script>
